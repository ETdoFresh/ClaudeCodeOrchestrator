<Styles xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:dock="using:Dock.Avalonia.Controls"
        xmlns:vm="using:ClaudeCodeOrchestrator.App.ViewModels">

    <!-- VS Code Dark Theme Colors -->
    <Style>
        <Style.Resources>
            <!-- Background colors -->
            <Color x:Key="EditorBackground">#1E1E1E</Color>
            <Color x:Key="SidebarBackground">#252526</Color>
            <Color x:Key="ActivityBarBackground">#333333</Color>
            <Color x:Key="TabBarBackground">#2D2D2D</Color>
            <Color x:Key="PanelBackground">#1E1E1E</Color>
            <Color x:Key="TitleBarBackground">#3C3C3C</Color>

            <!-- Text colors -->
            <Color x:Key="ForegroundColor">#CCCCCC</Color>
            <Color x:Key="ForegroundDimmed">#858585</Color>
            <Color x:Key="ForegroundAccent">#569CD6</Color>

            <!-- Border colors -->
            <Color x:Key="BorderColor">#474747</Color>
            <Color x:Key="BorderColorLight">#3C3C3C</Color>

            <!-- Accent colors -->
            <Color x:Key="AccentColor">#007ACC</Color>
            <Color x:Key="AccentColorHover">#1177BB</Color>
            <Color x:Key="SuccessColor">#4EC9B0</Color>
            <Color x:Key="ErrorColor">#F44747</Color>
            <Color x:Key="WarningColor">#CCA700</Color>

            <!-- Tab colors -->
            <Color x:Key="TabActiveBackground">#1E1E1E</Color>
            <Color x:Key="TabInactiveBackground">#2D2D2D</Color>
            <Color x:Key="TabBorder">#007ACC</Color>

            <!-- Brushes -->
            <SolidColorBrush x:Key="EditorBackgroundBrush" Color="{StaticResource EditorBackground}" />
            <SolidColorBrush x:Key="SidebarBackgroundBrush" Color="{StaticResource SidebarBackground}" />
            <SolidColorBrush x:Key="PanelBackgroundBrush" Color="{StaticResource PanelBackground}" />
            <SolidColorBrush x:Key="ForegroundBrush" Color="{StaticResource ForegroundColor}" />
            <SolidColorBrush x:Key="ForegroundDimmedBrush" Color="{StaticResource ForegroundDimmed}" />
            <SolidColorBrush x:Key="BorderBrush" Color="{StaticResource BorderColor}" />
            <SolidColorBrush x:Key="AccentBrush" Color="{StaticResource AccentColor}" />
        </Style.Resources>
    </Style>

    <!-- Window styling -->
    <Style Selector="Window">
        <Setter Property="Background" Value="#1E1E1E" />
        <Setter Property="Foreground" Value="#CCCCCC" />
    </Style>

    <!-- TextBlock default -->
    <Style Selector="TextBlock">
        <Setter Property="Foreground" Value="#CCCCCC" />
    </Style>

    <!-- Button styling -->
    <Style Selector="Button">
        <Setter Property="Background" Value="#0E639C" />
        <Setter Property="Foreground" Value="#FFFFFF" />
        <Setter Property="BorderThickness" Value="0" />
        <Setter Property="Padding" Value="12,6" />
        <Setter Property="CornerRadius" Value="2" />
    </Style>

    <Style Selector="Button:pointerover">
        <Setter Property="Background" Value="#1177BB" />
    </Style>

    <Style Selector="Button:pressed">
        <Setter Property="Background" Value="#094771" />
    </Style>

    <!-- TextBox styling -->
    <Style Selector="TextBox">
        <Setter Property="Background" Value="#3C3C3C" />
        <Setter Property="Foreground" Value="#CCCCCC" />
        <Setter Property="BorderBrush" Value="#474747" />
        <Setter Property="BorderThickness" Value="1" />
        <Setter Property="CornerRadius" Value="2" />
        <Setter Property="Padding" Value="8,4" />
    </Style>

    <Style Selector="TextBox:focus">
        <Setter Property="BorderBrush" Value="#007ACC" />
    </Style>

    <!-- TreeView styling -->
    <Style Selector="TreeView">
        <Setter Property="Background" Value="Transparent" />
    </Style>

    <Style Selector="TreeViewItem">
        <Setter Property="Foreground" Value="#CCCCCC" />
    </Style>

    <!-- ListBox styling -->
    <Style Selector="ListBox">
        <Setter Property="Background" Value="Transparent" />
    </Style>

    <Style Selector="ListBoxItem">
        <Setter Property="Foreground" Value="#CCCCCC" />
        <Setter Property="Padding" Value="8,4" />
    </Style>

    <Style Selector="ListBoxItem:selected">
        <Setter Property="Background" Value="#094771" />
    </Style>

    <Style Selector="ListBoxItem:pointerover">
        <Setter Property="Background" Value="#2A2D2E" />
    </Style>

    <!-- ScrollBar styling -->
    <Style Selector="ScrollBar">
        <Setter Property="Background" Value="Transparent" />
    </Style>

    <!-- Border default -->
    <Style Selector="Border.panel">
        <Setter Property="Background" Value="#252526" />
        <Setter Property="BorderBrush" Value="#474747" />
        <Setter Property="BorderThickness" Value="1" />
    </Style>

    <!-- Spinning indicator style -->
    <Style Selector="Border.spinner">
        <Setter Property="Width" Value="14" />
        <Setter Property="Height" Value="14" />
        <Setter Property="CornerRadius" Value="7" />
        <Setter Property="BorderThickness" Value="2" />
        <Setter Property="BorderBrush" Value="#007ACC" />
        <Setter Property="Background" Value="Transparent" />
        <Setter Property="RenderTransformOrigin" Value="0.5,0.5" />
        <Setter Property="RenderTransform">
            <RotateTransform />
        </Setter>
        <Style.Animations>
            <Animation Duration="0:0:1" IterationCount="INFINITE">
                <KeyFrame Cue="0%">
                    <Setter Property="RotateTransform.Angle" Value="0" />
                </KeyFrame>
                <KeyFrame Cue="100%">
                    <Setter Property="RotateTransform.Angle" Value="360" />
                </KeyFrame>
            </Animation>
        </Style.Animations>
    </Style>

    <!-- Arc spinner using a partial border effect -->
    <!--
         IMPORTANT: We use an Ellipse with StrokeDashArray instead of Arc because:
         - Arc geometry bounds are asymmetric (only contain the actual arc path)
         - This causes RenderTransformOrigin="0.5,0.5" to rotate around the geometry center, not visual center
         - Ellipse has symmetric bounds, ensuring proper center rotation

         StrokeDashArray calculation for 270° arc on 14x14 ellipse:
         - Circumference = π * diameter ≈ 3.14159 * 10 (inner diameter with 2px stroke) ≈ 31.4
         - For 75% (270°/360°) visible: dash=23.6, gap=7.9
         - Using approximate values that work well visually
    -->
    <Style Selector="Panel.arc-spinner">
        <Setter Property="Width" Value="14" />
        <Setter Property="Height" Value="14" />
        <Setter Property="RenderTransformOrigin" Value="0.5,0.5" />
        <Setter Property="RenderTransform">
            <RotateTransform />
        </Setter>
        <Style.Animations>
            <Animation Duration="0:0:0.8" IterationCount="INFINITE">
                <KeyFrame Cue="0%">
                    <Setter Property="RotateTransform.Angle" Value="0" />
                </KeyFrame>
                <KeyFrame Cue="100%">
                    <Setter Property="RotateTransform.Angle" Value="360" />
                </KeyFrame>
            </Animation>
        </Style.Animations>
    </Style>

    <!-- Ellipse within spinner - symmetric bounds ensure proper center rotation -->
    <Style Selector="Panel.arc-spinner > Ellipse">
        <Setter Property="Width" Value="14" />
        <Setter Property="Height" Value="14" />
        <!-- StrokeDashArray: ~75% visible (270°), ~25% gap (90°) of circumference -->
        <Setter Property="StrokeDashArray" Value="23.6,7.9" />
        <Setter Property="StrokeDashOffset" Value="0" />
    </Style>

    <!-- Legacy Arc support - keeping for backwards compatibility but deprecated -->
    <Style Selector="Panel.arc-spinner > Arc">
        <Setter Property="Width" Value="14" />
        <Setter Property="Height" Value="14" />
        <Setter Property="Stretch" Value="Uniform" />
        <Setter Property="HorizontalAlignment" Value="Center" />
        <Setter Property="VerticalAlignment" Value="Center" />
    </Style>

    <!-- Small arc spinner (10x10) for inline use -->
    <Style Selector="Panel.arc-spinner-small">
        <Setter Property="Width" Value="10" />
        <Setter Property="Height" Value="10" />
        <Setter Property="RenderTransformOrigin" Value="0.5,0.5" />
        <Setter Property="RenderTransform">
            <RotateTransform />
        </Setter>
        <Style.Animations>
            <Animation Duration="0:0:0.8" IterationCount="INFINITE">
                <KeyFrame Cue="0%">
                    <Setter Property="RotateTransform.Angle" Value="0" />
                </KeyFrame>
                <KeyFrame Cue="100%">
                    <Setter Property="RotateTransform.Angle" Value="360" />
                </KeyFrame>
            </Animation>
        </Style.Animations>
    </Style>

    <!-- Ellipse within small spinner - symmetric bounds ensure proper center rotation -->
    <Style Selector="Panel.arc-spinner-small > Ellipse">
        <Setter Property="Width" Value="10" />
        <Setter Property="Height" Value="10" />
        <!-- StrokeDashArray: ~75% visible (270°), ~25% gap (90°) of circumference for 10x10 -->
        <!-- Circumference = π * ~7 (inner diameter) ≈ 22, so dash=16.5, gap=5.5 -->
        <Setter Property="StrokeDashArray" Value="16.5,5.5" />
        <Setter Property="StrokeDashOffset" Value="0" />
    </Style>

    <!-- Legacy Arc support for small spinner - keeping for backwards compatibility -->
    <Style Selector="Panel.arc-spinner-small > Arc">
        <Setter Property="Width" Value="10" />
        <Setter Property="Height" Value="10" />
        <Setter Property="Stretch" Value="Uniform" />
        <Setter Property="HorizontalAlignment" Value="Center" />
        <Setter Property="VerticalAlignment" Value="Center" />
    </Style>

    <!-- Large arc spinner (32x32) for loading states -->
    <Style Selector="Panel.arc-spinner-large">
        <Setter Property="Width" Value="32" />
        <Setter Property="Height" Value="32" />
        <Setter Property="RenderTransformOrigin" Value="0.5,0.5" />
        <Setter Property="RenderTransform">
            <RotateTransform />
        </Setter>
        <Style.Animations>
            <Animation Duration="0:0:0.8" IterationCount="INFINITE">
                <KeyFrame Cue="0%">
                    <Setter Property="RotateTransform.Angle" Value="0" />
                </KeyFrame>
                <KeyFrame Cue="100%">
                    <Setter Property="RotateTransform.Angle" Value="360" />
                </KeyFrame>
            </Animation>
        </Style.Animations>
    </Style>

    <!-- Ellipse within large spinner - symmetric bounds ensure proper center rotation -->
    <Style Selector="Panel.arc-spinner-large > Ellipse">
        <Setter Property="Width" Value="32" />
        <Setter Property="Height" Value="32" />
        <!-- StrokeDashArray: ~75% visible (270°), ~25% gap (90°) of circumference for 32x32 -->
        <!-- Circumference = π * ~26 (inner diameter with 3px stroke) ≈ 81.7, so dash=61.3, gap=20.4 -->
        <Setter Property="StrokeDashArray" Value="61.3,20.4" />
        <Setter Property="StrokeDashOffset" Value="0" />
    </Style>

    <!-- ToolTabStrip styling for left panel tabs (Worktrees/Explorer) -->
    <Style Selector="dock|ToolTabStrip">
        <Setter Property="Background" Value="#252526" />
        <Setter Property="Height" Value="35" />
    </Style>

    <!-- Tool tab item styling -->
    <Style Selector="dock|ToolTabStripItem">
        <Setter Property="Background" Value="Transparent" />
        <Setter Property="Foreground" Value="#858585" />
        <Setter Property="Padding" Value="12,8" />
        <Setter Property="FontSize" Value="12" />
        <Setter Property="BorderThickness" Value="0,0,0,2" />
        <Setter Property="BorderBrush" Value="Transparent" />
    </Style>

    <Style Selector="dock|ToolTabStripItem:pointerover">
        <Setter Property="Foreground" Value="#CCCCCC" />
    </Style>

    <Style Selector="dock|ToolTabStripItem:selected">
        <Setter Property="Foreground" Value="#FFFFFF" />
        <Setter Property="BorderBrush" Value="#007ACC" />
    </Style>

    <!-- Hide the grip/title area of ToolControl (keep tabs, hide grip) -->
    <Style Selector="dock|ToolControl /template/ Border#PART_Grip">
        <Setter Property="IsVisible" Value="False" />
    </Style>

    <!-- Ensure content within DocumentControl stretches properly to fill available space -->
    <Style Selector="dock|DocumentControl /template/ ContentPresenter#PART_ContentPresenter">
        <Setter Property="VerticalAlignment" Value="Stretch" />
        <Setter Property="HorizontalAlignment" Value="Stretch" />
    </Style>

    <!-- Document Tab Strip Context Menu for Split Layout Options -->
    <Style Selector="dock|DocumentTabStrip">
        <Setter Property="ContextMenu">
            <Setter.Value>
                <ContextMenu>
                    <MenuItem Header="Split All Tabs Vertically"
                              Command="{Binding $parent[Window].((vm:MainWindowViewModel)DataContext).SplitVerticalCommand}" />
                    <MenuItem Header="Split All Tabs Horizontally"
                              Command="{Binding $parent[Window].((vm:MainWindowViewModel)DataContext).SplitHorizontalCommand}" />
                    <MenuItem Header="Split All Tabs in Grid"
                              Command="{Binding $parent[Window].((vm:MainWindowViewModel)DataContext).SplitGridCommand}" />
                    <Separator />
                    <MenuItem Header="Collapse Split Tabs"
                              Command="{Binding $parent[Window].((vm:MainWindowViewModel)DataContext).CollapseSplitCommand}" />
                </ContextMenu>
            </Setter.Value>
        </Setter>
    </Style>

</Styles>
